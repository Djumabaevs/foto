<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>๐ธ ะคะพัะพ ะฝะฐ ะดะพะบัะผะตะฝัั</title>
  <meta name="description" content="ะกะพะทะดะฐะนัะต ะธะดะตะฐะปัะฝะพะต ัะพัะพ ะฝะฐ ะดะพะบัะผะตะฝัั โ ะฟะฐัะฟะพัั, ะฒะธะทั, ะฟัะฐะฒะฐ. ะะตัะฟะปะฐัะฝะพ, ะฑะตะท ะทะฐะณััะทะบะธ ะฝะฐ ัะตัะฒะตั.">
  <meta name="theme-color" content="#0d0d0d">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/print.css">
</head>
<body>

<!-- ===== SCREEN: PRESETS ===== -->
<div class="screen active" id="screen-presets">
  <div class="header">
    <h1>๐ธ ะคะพัะพ ะฝะฐ ะดะพะบัะผะตะฝัั</h1>
    <span class="subtitle">ะัะฑะตัะธัะต ัะพัะผะฐั</span>
  </div>
  <div id="presets-grid"></div>
  <!-- ===== BANNER (bottom) ===== -->
  <a href="https://relaxview.live" target="_blank" rel="noopener" class="promo-banner">
    <div class="promo-banner-inner">
      <span class="promo-icon">๐ฌ</span>
      <div class="promo-text">
        <strong>ะะธะฝะพะะพัะพะบ</strong> โ ะคะธะปัะผั ะธ ัะตัะธะฐะปั ะพะฝะปะฐะนะฝ ะฑะตัะฟะปะฐัะฝะพ
      </div>
      <span class="promo-arrow">โ</span>
    </div>
  </a>
</div>

<!-- ===== SCREEN: CAMERA ===== -->
<div class="screen" id="screen-camera">
  <div class="header">
    <button class="btn-back" onclick="app.goBack()">โ</button>
    <h1 id="camera-preset-name">ะะฐะผะตัะฐ</h1>
  </div>
  <div class="camera-container">
    <video id="camera-video" playsinline autoplay muted></video>
    <div class="camera-overlay">
      <div class="camera-guide"></div>
    </div>
    <div id="timer-display" class="hidden"></div>
  </div>
  <div class="camera-controls">
    <button class="btn-icon" id="btn-switch-cam" title="ะกะผะตะฝะธัั ะบะฐะผะตัั">๐</button>
    <button class="btn-icon" id="btn-mirror" title="ะะตัะบะฐะปะพ">โ๏ธ</button>
    <div>
      <button class="btn-icon" id="btn-timer" title="ะขะฐะนะผะตั">โฑ๏ธ</button>
      <div class="timer-label"><span id="timer-value">ะัะบะป</span></div>
    </div>
    <button id="btn-capture" title="ะกะฝััั"></button>
    <button class="btn-icon" id="btn-upload" title="ะะฐะณััะทะธัั ัะพัะพ">๐</button>
  </div>
</div>

<!-- ===== SCREEN: EDITOR ===== -->
<div class="screen" id="screen-editor">
  <div class="header">
    <button class="btn-back" onclick="app.goBack()">โ</button>
    <h1>ะะตะดะฐะบัะพั</h1>
  </div>
  <div class="editor-container">
    <div class="editor-canvas-wrap">
      <canvas id="editor-canvas"></canvas>
    </div>
    <div class="editor-toolbar">
      <!-- Actions -->
      <div class="toolbar-row">
        <button class="btn-tool" id="btn-auto-crop">๐ฏ ะะฒัะพะบัะพะฟ</button>
        <button class="btn-tool" id="btn-remove-bg">โจ ะฃะฑัะฐัั ัะพะฝ</button>
      </div>

      <!-- Background colors -->
      <div class="toolbar-row">
        <span style="font-size:12px;color:var(--text2)">ะคะพะฝ:</span>
        <button class="bg-color-btn" data-color="#ffffff" style="background:#fff" title="ะะตะปัะน"></button>
        <button class="bg-color-btn" data-color="#e0e0e0" style="background:#e0e0e0" title="ะกะตััะน"></button>
        <button class="bg-color-btn" data-color="#b3d9ff" style="background:#b3d9ff" title="ะะพะปัะฑะพะน"></button>
        <button class="bg-color-btn" data-color="#ff6666" style="background:#ff6666" title="ะัะฐัะฝัะน"></button>
      </div>

      <!-- Brightness -->
      <div class="toolbar-row">
        <div class="slider-group">
          <label>โ๏ธ ะฏัะบะพััั</label>
          <input type="range" id="slider-brightness" min="-50" max="50" value="0">
          <span class="slider-value" id="brightness-value">0</span>
        </div>
      </div>

      <!-- Contrast -->
      <div class="toolbar-row">
        <div class="slider-group">
          <label>โ ะะพะฝััะฐัั</label>
          <input type="range" id="slider-contrast" min="-50" max="50" value="0">
          <span class="slider-value" id="contrast-value">0</span>
        </div>
      </div>

      <!-- Saturation -->
      <div class="toolbar-row">
        <div class="slider-group">
          <label>๐จ ะะฐัััะตะฝะฝะพััั</label>
          <input type="range" id="slider-saturation" min="-50" max="50" value="0">
          <span class="slider-value" id="saturation-value">0</span>
        </div>
      </div>

      <!-- Rotation -->
      <div class="toolbar-row">
        <div class="slider-group">
          <label>๐ ะะพะฒะพัะพั</label>
          <input type="range" id="slider-rotation" min="-45" max="45" value="0">
          <span class="slider-value" id="rotation-value">0ยฐ</span>
        </div>
      </div>

      <!-- Skin tone -->
      <div class="toolbar-row">
        <span style="font-size:12px;color:var(--text2)">ะขะพะฝ ะบะพะถะธ:</span>
        <button class="skin-tone-btn" data-tone="warm" style="background:#f4c7a0" title="ะขัะฟะปัะน"></button>
        <button class="skin-tone-btn active" data-tone="neutral" style="background:#e8c4a0" title="ะะตะนััะฐะปัะฝัะน"></button>
        <button class="skin-tone-btn" data-tone="cool" style="background:#d4b8c0" title="ะฅะพะปะพะดะฝัะน"></button>
      </div>

      <!-- Navigation -->
      <div class="toolbar-row" style="margin-top:12px">
        <button class="btn-tool" id="btn-validate">โ ะัะพะฒะตัะธัั</button>
        <button class="btn-tool" id="btn-to-print">๐จ๏ธ ะะตัะฐัั</button>
        <button class="btn-tool primary" id="btn-to-export">๐พ ะญะบัะฟะพัั</button>
      </div>
    </div>
  </div>
</div>

<!-- ===== SCREEN: VALIDATION ===== -->
<div class="screen" id="screen-validation">
  <div class="header">
    <button class="btn-back" onclick="app.goBack()">โ</button>
    <h1>โ ะัะพะฒะตัะบะฐ ััะตะฑะพะฒะฐะฝะธะน</h1>
  </div>
  <div class="validation-list" id="validation-list"></div>
  <div style="padding:16px;display:flex;gap:10px">
    <button class="btn-tool" onclick="app.showScreen('editor')" style="flex:1">โ ะะฐะทะฐะด ะบ ัะตะดะฐะบัะพัั</button>
    <button class="btn-tool primary" onclick="app.showExport()" style="flex:1">ะญะบัะฟะพัั โ</button>
  </div>
</div>

<!-- ===== SCREEN: PRINT ===== -->
<div class="screen" id="screen-print">
  <div class="header">
    <button class="btn-back" onclick="app.showScreen('editor')">โ</button>
    <h1>๐จ๏ธ ะะฐัะบะปะฐะดะบะฐ ะฝะฐ ะฟะตัะฐัั</h1>
  </div>
  <div class="print-layouts" id="print-layouts"></div>
  <div id="print-preview"></div>
  <div class="print-options">
    <div class="toolbar-row">
      <button class="btn-tool active" id="btn-cut-lines">โ๏ธ ะะธะฝะธะธ ัะตะทะฐ</button>
      <button class="btn-tool primary" id="btn-export-print">๐พ ะกะบะฐัะฐัั ัะฐัะบะปะฐะดะบั</button>
    </div>
  </div>
</div>

<!-- ===== SCREEN: EXPORT ===== -->
<div class="screen" id="screen-export">
  <div class="header">
    <button class="btn-back" onclick="app.showScreen('editor')">โ</button>
    <h1>๐พ ะญะบัะฟะพัั</h1>
  </div>
  <div class="export-container">
    <div id="export-preview"></div>
    <div id="export-info"></div>
    <div class="export-buttons">
      <button class="btn-export jpg" id="btn-export-jpg">๐ท ะกะบะฐัะฐัั JPG</button>
      <button class="btn-export png" id="btn-export-png">๐ผ๏ธ ะกะบะฐัะฐัั PNG</button>
      <button class="btn-export pdf" id="btn-export-pdf">๐ ะะตัะฐัั PDF</button>
      <button class="btn-export copy" id="btn-copy">๐ ะะพะฟะธัะพะฒะฐัั</button>
    </div>
  </div>
</div>

<!-- ===== CUSTOM PRESET DIALOG ===== -->
<div class="dialog-overlay hidden" id="custom-preset-dialog">
  <div class="dialog">
    <h2>โ๏ธ ะัะพะธะทะฒะพะปัะฝัะน ัะพัะผะฐั</h2>
    <input type="number" id="custom-w" placeholder="ะจะธัะธะฝะฐ (ะผะผ)" value="35">
    <input type="number" id="custom-h" placeholder="ะััะพัะฐ (ะผะผ)" value="45">
    <label style="font-size:13px;color:var(--text2);display:block;margin-bottom:6px">ะฆะฒะตั ัะพะฝะฐ:</label>
    <input type="color" id="custom-bg" value="#ffffff" style="width:100%;height:40px;border:none;cursor:pointer">
    <div class="dialog-buttons">
      <button class="btn-tool" id="btn-cancel-custom">ะัะผะตะฝะฐ</button>
      <button class="btn-tool primary" id="btn-apply-custom">ะัะธะผะตะฝะธัั</button>
    </div>
  </div>
</div>

<!-- Toast -->
<div id="toast"></div>

<!-- Scripts -->
<script src="js/presets.js"></script>
<script src="js/camera.js"></script>
<script src="js/editor.js"></script>
<script src="js/background.js"></script>
<script src="js/face.js"></script>
<script src="js/validation.js"></script>
<script src="js/print.js"></script>
<script src="js/export.js"></script>
<script src="js/app.js"></script>
<script>if('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js');</script>

</body>
</html>
